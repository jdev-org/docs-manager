{"config":{"lang":["fr"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Accueil","text":"<p>Docs-manager est un ensemble de brique permettant simplement d'ajouter ou r\u00e9cup\u00e9rer des documents via une base de donn\u00e9es PostgreSQL.</p> <p>Les briques sont compos\u00e9es de :</p> <ul> <li> <p>Un service backend / API permettant de dialoguer avec la base de donn\u00e9es selon les droits d\u00e9finis par les r\u00f4les geOrchestra</p> </li> <li> <p>Une extension MapStore2 permettant de lire, \u00e9crire, t\u00e9l\u00e9charger des documents dans une fen\u00eatre</p> </li> </ul> <p> </p>"},{"location":"tableofcontent/","title":"Tableofcontent","text":""},{"location":"tableofcontent/#contents","title":"Contents","text":"<p>Summary of the section</p>"},{"location":"tableofcontent/#guide-utilisateur","title":"Guide utilisateur","text":""},{"location":"tableofcontent/#vue-globale-de-mapstore2","title":"Vue globale de MapStore2","text":""},{"location":"tableofcontent/#permettre-lacces-au-module","title":"Permettre l'acc\u00e8s au module","text":""},{"location":"tableofcontent/#ouvrir-le-module","title":"Ouvrir le module","text":"<ul> <li>Via la barre d'outils lat\u00e9rale</li> <li>Via le bouton burger</li> </ul>"},{"location":"tableofcontent/#fenetre-du-module","title":"Fen\u00eatre du module","text":"<ul> <li>Utilisateur non administrateur</li> <li>Utilisateur administrateur</li> </ul>"},{"location":"tableofcontent/#fenetre-principale","title":"Fen\u00eatre principale","text":""},{"location":"tableofcontent/#vue-de-la-liste-documents","title":"Vue de la liste documents","text":"<ul> <li>Actions g\u00e9n\u00e9rales</li> <li>Actions des \u00e9diteurs</li> <li>Action administrateur</li> </ul>"},{"location":"tableofcontent/#ajouter-un-document","title":"Ajouter un document","text":""},{"location":"tableofcontent/#acceder-a-lajout-dun-document","title":"Acc\u00e9der \u00e0 l'ajout d'un document","text":""},{"location":"tableofcontent/#fenetre-dajout-dun-document","title":"Fen\u00eatre d'ajout d'un document","text":""},{"location":"tableofcontent/#champs-a-renseigner","title":"Champs \u00e0 renseigner","text":"<ul> <li>Zone d'ajout</li> <li>Titre</li> <li>Commentaire</li> <li>Statut</li> <li>Date du document</li> <li>Champs obligatoires</li> </ul>"},{"location":"tableofcontent/#validation","title":"Validation","text":""},{"location":"tableofcontent/#guide-technique","title":"Guide technique","text":""},{"location":"tableofcontent/#installation","title":"Installation","text":""},{"location":"tableofcontent/#developper","title":"D\u00e9velopper","text":""},{"location":"tableofcontent/#prerequis","title":"Pr\u00e9requis","text":""},{"location":"tableofcontent/#installation-locale","title":"Installation locale","text":""},{"location":"tableofcontent/#parametrage-en-developpement","title":"Param\u00e9trage en d\u00e9veloppement","text":""},{"location":"tableofcontent/#build","title":"Build","text":""},{"location":"tableofcontent/#demarrage-du-service-en-mode-dev","title":"D\u00e9marrage du service en mode dev","text":"<ul> <li>Via JAVA</li> <li>Via VSCode</li> </ul>"},{"location":"tableofcontent/#configuration","title":"Configuration","text":""},{"location":"tableofcontent/#configuration-des-logs","title":"Configuration des logs","text":""},{"location":"tableofcontent/#configuration-avec-georchestra","title":"Configuration avec geOrchestra","text":""},{"location":"tableofcontent/#fichier-de-configuration","title":"Fichier de configuration","text":""},{"location":"tableofcontent/#emplacement-du-fichier-de-configuration","title":"Emplacement du fichier de configuration","text":"<ul> <li>Description des param\u00e8tres \u00e0 administrer</li> </ul>"},{"location":"tableofcontent/#guide-technique_1","title":"Guide technique","text":""},{"location":"tableofcontent/#generalite","title":"G\u00e9n\u00e9ralit\u00e9","text":""},{"location":"tableofcontent/#mapstoreextension","title":"MapStoreExtension","text":""},{"location":"tableofcontent/#configuration_1","title":"Configuration","text":""},{"location":"tableofcontent/#ajouter-ou-modifier-la-configuration","title":"Ajouter ou modifier la configuration","text":""},{"location":"tableofcontent/#example-de-configuration","title":"Example de configuration","text":""},{"location":"tableofcontent/#parametres","title":"Param\u00e8tres","text":""},{"location":"tableofcontent/#installation_1","title":"Installation","text":""},{"location":"tableofcontent/#prerequis_1","title":"Pr\u00e9requis","text":""},{"location":"tableofcontent/#recuperer-le-fichier","title":"R\u00e9cup\u00e9rer le fichier","text":""},{"location":"tableofcontent/#ajouter-le-module-dans-mapstore2","title":"Ajouter le module dans MapStore2","text":""},{"location":"tableofcontent/#developper_1","title":"D\u00e9velopper","text":""},{"location":"tableofcontent/#prerequis_2","title":"Pr\u00e9requis","text":""},{"location":"tableofcontent/#comment-proceder","title":"Comment proc\u00e9der ?","text":""},{"location":"tableofcontent/#commandes","title":"Commandes","text":""},{"location":"tableofcontent/#documentation","title":"Documentation","text":""},{"location":"tableofcontent/#contribuer","title":"Contribuer","text":""},{"location":"tableofcontent/#modifier-la-documentation","title":"Modifier la documentation","text":""},{"location":"tableofcontent/#push-et-publication-de-la-documentation","title":"Push et publication de la documentation","text":""},{"location":"tableofcontent/#mise-a-jour-de-la-documentation","title":"Mise \u00e0 jour de la documentation","text":""},{"location":"tableofcontent/#source-de-la-mise-a-jour","title":"Source de la mise \u00e0 jour","text":""},{"location":"tableofcontent/#mettre-a-jour-la-documentation","title":"Mettre \u00e0 jour la documentation","text":""},{"location":"guide_utilisateur/","title":"Guide utilisateur","text":"<p>Cette page est d\u00e9di\u00e9e au guide utilisateur, c'est-\u00e0-dire \u00e0 la documentation de r\u00e9f\u00e9rence qui d\u00e9crit toutes les fonctionnalit\u00e9s et outils du composant \u00e0 destination des utilisateurs.</p>"},{"location":"guide_utilisateur/00_prise_en_main/","title":"Prendre en main","text":""},{"location":"guide_utilisateur/00_prise_en_main/#vue-globale-de-mapstore2","title":"Vue globale de MapStore2","text":"<p>Vous trouverez ci-dessous une vue globale standard de MapStore2.</p> <p>Nous nous int\u00e9resserons aux \u00e9l\u00e9ments 3 et 4 pusiqu'ils vous permettront d'acc\u00e9der au module de gestion des documents :</p> <p></p>"},{"location":"guide_utilisateur/00_prise_en_main/#permettre-lacces-au-module","title":"Permettre l'acc\u00e8s au module","text":"<p>Ce module doit \u00eatre rendu visible par le cr\u00e9ateur du contexte. Par d\u00e9faut, il n'est pas accessible et doit \u00eatre manuellement ajout\u00e9 lors de la cr\u00e9ation du contexte.</p> <p>Ce module n'est pas activ\u00e9 par d\u00e9faut.</p>"},{"location":"guide_utilisateur/00_prise_en_main/#ouvrir-le-module","title":"Ouvrir le module","text":"<p>Le module est accessible de 2 fa\u00e7ons diff\u00e9rentes selon la configuration souhait\u00e9e par l'administrateur.</p>"},{"location":"guide_utilisateur/00_prise_en_main/#via-la-barre-doutils-laterale","title":"Via la barre d'outils lat\u00e9rale","text":"<p>L'ic\u00f4ne peut \u00e9voluer selon le choix de l'administrateur. Par d\u00e9faut, c'est un dossier avec une fl\u00eache :</p> <p></p>"},{"location":"guide_utilisateur/00_prise_en_main/#via-le-bouton-burger","title":"Via le bouton burger","text":"<p>Le bouton burger est coll\u00e9 \u00e0 la barre de recherche en haut \u00e0 droite (si rendue visible par l'administrateur).</p> <p>Le bouton d'acc\u00e8s au module est alors visible en tant que \"G\u00e9rer les documents\" dans la liste qui s'affiche apr\u00e8s un clique sur le bouton burger :</p> <p></p>"},{"location":"guide_utilisateur/00_prise_en_main/#fenetre-du-module","title":"Fen\u00eatre du module","text":"<p>Pour une description de la fen\u00eatre principale, dirigez-vous vers la section <code>fen\u00eatre principale</code>.</p>"},{"location":"guide_utilisateur/00_prise_en_main/#utilisateur-non-administrateur","title":"Utilisateur non administrateur","text":"<p>Si vous n'\u00eates pas administrateur, vous ne pourrez voir tous les documents du contexte en une seule fen\u00eatre. Vous ne pouvez en effet voir que les documents d'une entit\u00e9 s\u00e9lectionn\u00e9es.</p> <p>A l'ouverture, un utilisateur non administrateur verra cette fen\u00eatre :</p> <p></p> <p>Pour voir les documents, dirigez-vous vers la section \"Consultation\".</p>"},{"location":"guide_utilisateur/00_prise_en_main/#utilisateur-administrateur","title":"Utilisateur administrateur","text":"<p>Si vous \u00eates un administrateur, vous pourrez par d\u00e9faut voir tous les documents dans une seule fen\u00eatre d\u00e8s l'ouverture :</p> <p></p>"},{"location":"guide_utilisateur/01_fenetre_principale/","title":"Fen\u00eatre principale","text":"<p>Le contenu de la fen\u00eatre \u00e9volue selon les actions de l'utilisateur.</p> <p>Nous d\u00e9crirons les actions et les \u00e9crans possibles.</p>"},{"location":"guide_utilisateur/01_fenetre_principale/#vue-de-la-liste-documents","title":"Vue de la liste documents","text":"<p>Cette \u00e9cran permet l'affichage des documents et des actions associ\u00e9s.</p> <p>Pour cette section, vous devez avoir d\u00e9j\u00e0 cliqu\u00e9 sur un \u00e9l\u00e9ment de la carte avec des documents d\u00e9j\u00e0 rattach\u00e9 \u00e0 l'\u00e9l\u00e9ment cliqu\u00e9.</p> <p>Les actions num\u00e9rot\u00e9es sur la capture ci-dessous d\u00e9pendent de vos droits.</p> <ul> <li>En rouge : actions qui n\u00e9cessitent les droits d'\u00e9dition</li> <li>En vert : actions pour tous les utilisateurs</li> <li>En bleu : informations g\u00e9n\u00e9rale sur le document</li> <li>En orange : actions pour les administrateurs uniquement</li> </ul> <p></p>"},{"location":"guide_utilisateur/01_fenetre_principale/#actions-generales","title":"Actions g\u00e9n\u00e9rales","text":"<p>Ces actions sont r\u00e9alisables par tous les utilisateurs.</p> <ul> <li>Action 1 : Afficher les informations</li> </ul> <p>Ce bouton permet d'afficher dans la fen\u00eatre les informations saisies relatives au document.</p> <p></p> <p>Les informations visibles d\u00e9pendent de la configuration choisie par l'administrateur. L'administrateur peut en effet d\u00e9cider d'afficher moins d'informations.</p> <p><code>Note : Par d\u00e9faut, les champs saisient sont autoamtiquement affich\u00e9s dans cette liste.</code></p> <ul> <li>Action 2 : T\u00e9l\u00e9charger le document</li> </ul> <p>Ce bouton permet de t\u00e9l\u00e9charger sur votre ordinateur le document.</p> <ul> <li>Action 3 : Voir le document</li> </ul> <p>Ce bouton permet de voir le document dans un nouvel onglet</p> <ul> <li>Action 4 : Rechagement de la liste</li> </ul> <p>Ce bouton est utile si un autre utilisateur disposant des droits suffisants rajoute un document apr\u00e8s que vous ayez commenc\u00e9 \u00e0 consulter la liste.</p> <p>Il permet de recharger la liste des documents \u00e0 la demande.</p>"},{"location":"guide_utilisateur/01_fenetre_principale/#actions-des-editeurs","title":"Actions des \u00e9diteurs","text":"<ul> <li>Action 4 : Supprimer un document</li> </ul> <p>Permet de supprimer le document de l'\u00e9cran et de la base de donn\u00e9es. Au clique sur ce bouton, un \u00e9cran de confirmation vous permettra d'annuler l'action ou de supprimer d\u00e9finitivement le document.</p> <p></p> <ul> <li>Action 7 : Ajouter un document</li> </ul> <p>Le clique sur ce bouton vous permettra d'acc\u00e9der \u00e0 l'interface de saisie d'un document.</p>"},{"location":"guide_utilisateur/01_fenetre_principale/#action-administrateur","title":"Action administrateur","text":"<ul> <li>Action 5 : Voir tous les documents</li> </ul> <p>Cette case \u00e0 cocher est r\u00e9serv\u00e9e aux administrateurs. Ils pourront alors voir tous les documents du contexte et non pas que les documents de la s\u00e9lection.</p>"},{"location":"guide_utilisateur/aide_syntaxe/","title":"Aide \u00e0 la syntaxe","text":"<p>Cette page n'est l\u00e0 que pour aider les r\u00e9dacteur \u00e0 prendre en main la syntaxe markdown elle-m\u00eame enrichie par mkdocs et ses plugins.</p> <p>Se reporter \u00e0 ce site pour des exemples plus fournis de syntaxe en Markdown.</p>"},{"location":"guide_utilisateur/aide_syntaxe/#titres-et-hierarchisation","title":"Titres et hi\u00e9rarchisation","text":""},{"location":"guide_utilisateur/aide_syntaxe/#images","title":"Images","text":"<p>Mettre les images dans le r\u00e9pertoire <code>images</code> du m\u00eame niveau que le fichier markdown.</p> <p><code>![logo georchestra](images/georchestra-logo.svg)</code></p> <p></p>"},{"location":"guide_utilisateur/aide_syntaxe/#liens","title":"Liens","text":""},{"location":"guide_utilisateur/aide_syntaxe/#notes-avertissements","title":"Notes, avertissements","text":"<p>Pour obtenir des blocs sp\u00e9cifique pour attirer l'attention du lecteur, il faut :</p> <ul> <li>installer le module Python <code>mkdocs-callouts</code></li> <li>dans le fichier <code>mkdocs.yml</code> : rajouter des <code>markdown_extensions</code> et un <code>plugin</code> (d\u00e9clar\u00e9s par d\u00e9faut)</li> </ul> <p>Voir https://squidfunk.github.io/mkdocs-material/reference/admonitions/ pour plus d'informations.</p> <p>Exemples ci-dessous, regarder le fichier markdown pour le code source.</p> <p>Note</p> <p>Logoden biniou degemer. Kerzu pe c\u2019huzh. Niverenn skrija\u00f1 bennak. Ler ugent ma. Meurzh kompren koll. Dreuz Egineg an. An kas gortoz. C\u2019higer mouezh Gerveur. Nor ur alies. Drezoc'h gwengolo kuzulia\u00f1.</p> <p>Mestr kemma\u00f1 talvezout. Anezha\u00f1 kenavo tasenn. Neud laezh tarv. Warnomp an bleun. Vuoc\u2019h da Plouneour-Menez. Bouton votez ac\u2019hano. Hu\u00f1vre c\u2019hof poazha\u00f1. Da pevar muia\u00f1. Do\u00f1jer gouel alc\u2019houez. Pluenn siminal hed.</p> <p>Astuce</p> <p>Logoden biniou degemer. Kerzu pe c\u2019huzh. Niverenn skrija\u00f1 bennak. Ler ugent ma. Meurzh kompren koll. Dreuz Egineg an. An kas gortoz. C\u2019higer mouezh Gerveur. Nor ur alies. Drezoc'h gwengolo kuzulia\u00f1.</p> <p>Mestr kemma\u00f1 talvezout. Anezha\u00f1 kenavo tasenn. Neud laezh tarv. Warnomp an bleun. Vuoc\u2019h da Plouneour-Menez. Bouton votez ac\u2019hano. Hu\u00f1vre c\u2019hof poazha\u00f1. Da pevar muia\u00f1. Do\u00f1jer gouel alc\u2019houez. Pluenn siminal hed.</p> <p>Attention</p> <p>Logoden biniou degemer. Kerzu pe c\u2019huzh. Niverenn skrija\u00f1 bennak. Ler ugent ma. Meurzh kompren koll. Dreuz Egineg an. An kas gortoz. C\u2019higer mouezh Gerveur. Nor ur alies. Drezoc'h gwengolo kuzulia\u00f1.</p> <p>Mestr kemma\u00f1 talvezout. Anezha\u00f1 kenavo tasenn. Neud laezh tarv. Warnomp an bleun. Vuoc\u2019h da Plouneour-Menez. Bouton votez ac\u2019hano. Hu\u00f1vre c\u2019hof poazha\u00f1. Da pevar muia\u00f1. Do\u00f1jer gouel alc\u2019houez. Pluenn siminal hed.</p>"},{"location":"guide_utilisateur/ajout/","title":"Ajouter un document","text":"<p>Cette section permet de d\u00e9crire l'\u00e9tape d'ajout d'un document.</p>"},{"location":"guide_utilisateur/ajout/#acceder-a-lajout-dun-document","title":"Acc\u00e9der \u00e0 l'ajout d'un document","text":"<p>Pour ajouter un document, vous devez ouvrir le module et cliquer sur \"+ Nouveau document\".</p> <p></p>"},{"location":"guide_utilisateur/ajout/#fenetre-dajout-dun-document","title":"Fen\u00eatre d'ajout d'un document","text":"<p>A l'ouverture la fen\u00eatre se pr\u00e9sente comme ceci :</p> <p></p> <p>Vous pouvez annuler la cr\u00e9ation d'un document en cliquant sur Annuler ou si vous fermez la fen\u00eatre.</p>"},{"location":"guide_utilisateur/ajout/#champs-a-renseigner","title":"Champs \u00e0 renseigner","text":"<p>Les sections qui suivent permettent de d\u00e9crire les champs \u00e0 renseigner.</p>"},{"location":"guide_utilisateur/ajout/#zone-dajout","title":"Zone d'ajout","text":"<p>Pour ajouter un document, vous pouvez choisir les formats image (PNG, JPG...), PDF, CSV, Excel (divers).</p> <p>Le document ne peut d\u00e9passer 50 Mo.</p> <p>Pour ajouter votre document :</p> <ul> <li>Glisser le document dans la zone grise</li> </ul> <p>ou</p> <ul> <li>Cliquez sur la zone grise pour choisir le document</li> </ul>"},{"location":"guide_utilisateur/ajout/#titre","title":"Titre","text":"<p>Si non renseign\u00e9 avant l'ajout du document, c'est le titre du fichier qui est r\u00e9cup\u00e9r\u00e9 comme titre par d\u00e9faut.</p> <p>Vous pouvez alors modifier cette valeur par un titre personnalis\u00e9 qui sera affich\u00e9 dans la liste des documents pr\u00e9c\u00e9dente.</p> <p>Attention : le titre doit \u00eatre unique. Une erreur s'affichera si ce n'est pas le cas et vous devrez le modifier !</p>"},{"location":"guide_utilisateur/ajout/#commentaire","title":"Commentaire","text":"<p>Le commentaire est une courte description textuelle du document.</p>"},{"location":"guide_utilisateur/ajout/#statut","title":"Statut","text":"<p>Le statut n'est pas obligatoire et d\u00e9pend de la configuration du module pour \u00eatre renseignable. Par d\u00e9finition, c'est une liste de choix.</p>"},{"location":"guide_utilisateur/ajout/#date-du-document","title":"Date du document","text":"<p>C'est la date r\u00e9elle du document. Il faut alors distinguer la date d'ajout calcul\u00e9e lorsque vous cliquer la date actuelle lorsque vous importez le document et la date r\u00e9elle, qui est la date connue d'existance du document.</p> <p>Ex:  J'ajoute le document le 25/09/2023, mais je souhaite renseigner que le document a \u00e9t\u00e9 r\u00e9alis\u00e9 par le service communication le 05/04/2022. Dans ce cas, vous devez saisir le 05/04/2022 dans ce champ pour indiquer la date du document.</p>"},{"location":"guide_utilisateur/ajout/#champs-obligatoires","title":"Champs obligatoires","text":"<p>Les champs obligatoires sont d\u00e9finis par l'administrateur et ne sont pas connus \u00e0 l'avance. Si un champ non obligatoire n'est pas renseign\u00e9, une erreur s'affichera \u00e0 l'\u00e9cran lors de la tentative de validation.</p>"},{"location":"guide_utilisateur/ajout/#validation","title":"Validation","text":"<p>Le bouton Valider n'est pas accessible si : - un des champs obligatoire n'est pas renseign\u00e9 - si la contrainte d'unicit\u00e9 du label n'est pas respect\u00e9e - si vous n'avez import\u00e9 aucun document - si la taille du document est d\u00e9passe les 50 Mo</p>"},{"location":"tech_backend/","title":"Guide technique","text":"<p>Cette section vous permettra d'obtenir les informations suffisantes pour installer, d\u00e9ployer, administrer et faire \u00e9voluer le backend disponible ici :</p> <p>Lien vers le d\u00e9p\u00f4t</p>"},{"location":"tech_backend/configurer/","title":"Configuration","text":""},{"location":"tech_backend/configurer/#configuration-des-logs","title":"Configuration des logs","text":"<p>La configuration des logs est d\u00e9crite dans la section logging du d\u00e9p\u00f4t :</p> <ul> <li>Gestion des logs</li> </ul> <p>Vous pouvez suivre ces instructions pour cette partie du backend.</p>"},{"location":"tech_backend/configurer/#configuration-avec-georchestra","title":"Configuration avec geOrchestra","text":"<p>La configuration du backend pour georchestra est accessible dans le d\u00e9p\u00f4t :</p> <ul> <li>Int\u00e9gration dans geOrchestra</li> </ul> <p>Vous pouvez suivre ces instructions pour cette partie du backend.</p>"},{"location":"tech_backend/configurer/#fichier-de-configuration","title":"Fichier de configuration","text":"<p>La localisation du fichier application.properties est d\u00e9crit dans cette section du d\u00e9p\u00f4t :</p> <ul> <li>https://github.com/jdev-org/docs-manager/tree/main/docs-manager-back#configuration</li> </ul> <p>Lors de l'installation, il est pr\u00e9f\u00e9rable d'utiliser un fichier externe \u00e0 renseigner dans le fichier de service Linux (/etc/systemd/system/docsmanager.service) :</p> <ul> <li>https://github.com/jdev-org/docs-manager/tree/main/docs-manager-back#deploy-jar</li> </ul>"},{"location":"tech_backend/configurer/#emplacement-du-fichier-de-configuration","title":"Emplacement du fichier de configuration","text":"<p>Vous pouvez modifier le fichier <code>docsmanager.service</code> pour pr\u00e9ciser le fichier <code>.properties</code> \u00e0 utiliser via l'option <code>--spring.config.location</code> en rempla\u00e7ant par exemple :</p> <p><code>--spring.config.location=/etc/georchestra/datadir/docs-manager/application.properties</code></p> <p>...par :</p> <p><code>--spring.config.location=/srv/docsmanager/application.properties</code></p> <p>Attention : vous devez v\u00e9rifier les droits pour que le fichier <code>application.properties</code> reste accessible.</p>"},{"location":"tech_backend/configurer/#description-des-parametres-a-administrer","title":"Description des param\u00e8tres \u00e0 administrer","text":"<p>Cette section ne concerne que les param\u00e8tres \u00e0 administrer. Les autres param\u00e8tres du fichier sont \u00e0 laisser en l'\u00e9tat.</p> <ul> <li>Le fichier de configuration est par d\u00e9faut visible ici :</li> </ul> <p>https://github.com/jdev-org/docs-manager/blob/main/docs-manager-back/src/main/resources/application.properties</p> <ul> <li>Acc\u00e8s \u00e0 la base PostgreSQL :</li> </ul> <pre><code>spring.datasource.url=jdbc:postgresql://localhost:5432/documents\nspring.datasource.username=dbuser\nspring.datasource.password=secret\n</code></pre> <ul> <li>Roles administrateurs :</li> </ul> <pre><code>docs.roles.admin = MAPSTORE_ADMIN,SUPERUSER,ROLE_MAPSTORE_ADMIN,ROLE_SUPERUSER,DOC_ADMIN\n</code></pre> <ul> <li>Roles additionnels</li> </ul> <p>Ces r\u00f4les sont dits additionnels car ils n'ont pas un sh\u00e9ma par d\u00e9faut propre \u00e0 la console geOrchestra (ex: SV_PWRS_MON_ROLE_EDIT).</p> <p>Pour ajouter un r\u00f4le additionnel, vous devez indiquer l'ID du plugin concern\u00e9 (ou ID ou Code du contexte), et indiquer les r\u00f4les additionnels concern\u00e9s selon s'il permet la lecture (read) ou l'\u00e9criture (edit).</p> <p>Par exemple, pour un contexte avec un ID de valeur CARTEAUX et les r\u00f4les additionnels de lecture et \u00e9criture SV_PWRS_CARTEAUX_READ, SV_PWRS_CARTEAUX_EDIT on aura : </p> <pre><code>{'CARTEAUX':{'edit':['SV_PWRS_CARTEAUX_EDIT'], 'read':['SV_PWRS_CARTEAUX_READ']}}\n</code></pre> <p>Vous pouvez donc rajouter d'autres r\u00f4le \u00e0 cette configuration tel que :</p> <pre><code>{'ID_PLUGIN':{'edit':['ROLE_A','ROLE_B'], 'read':['ROLE_X']}, 'CARTEAUX':{'edit':['SV_PWRS_CARTEAUX_EDIT'], 'read':['SV_PWRS_CARTEAUX_READ']}}\n</code></pre> <ul> <li>Configuration des niveaux logs</li> </ul> <pre><code>logging.level.root=info\nlogging.level.org.springframework.web=info\n#logging.level.org.hibernate.SQL=debug\nlogging.level.logger.org.hibernate.type=trace\nlogging.level.org.hibernate.internal=error\n</code></pre>"},{"location":"tech_backend/developper/","title":"D\u00e9velopper","text":""},{"location":"tech_backend/developper/#prerequis","title":"Pr\u00e9requis","text":"<ul> <li>OS linux (e.g Debian 11)</li> <li>Java OpenJDK 17</li> <li>mvn</li> <li>Un serveur PostgreSQL doit \u00eatre accessible</li> <li>Les droits root / sudo sur la machine</li> </ul>"},{"location":"tech_backend/developper/#installation-locale","title":"Installation locale","text":"<p>Pour d\u00e9marrer le service localement, vous devez suivre la proc\u00e9dure d'installation sur votre environnement Linux (ne pas suivre la section \"Georchestra Configuration\" si non souhait\u00e9e): </p> <p>https://github.com/jdev-org/docs-manager/tree/main/docs-manager-back#install</p>"},{"location":"tech_backend/developper/#parametrage-en-developpement","title":"Param\u00e9trage en d\u00e9veloppement","text":"<p>Si vous ex\u00e9cuter le service via la commande <code>java -jar</code>, vous pouvez modifier le fichier <code>resources/application.properties</code>.</p> <p>Si vous souhaitez utiliser un fichier <code>.properties</code> selon un chemin sp\u00e9cifique, vous pouvez l'ajouter via l'option <code>--spring.config.location</code> tel que la commande :</p> <p><code>--spring.config.location=/srv/apps/application.properties</code></p> <p>Vous aurez donc la commande (<code>file.jar</code> est \u00e0 remplacer par le nom du jar) : </p> <p><code>java -jar target/file.jar --spring.config.location=/srv/apps/application.properties</code></p>"},{"location":"tech_backend/developper/#build","title":"Build","text":"<p>Vous pouvez ex\u00e9cuter le build :</p> <p>cd docs-manager-back mvn clean install</p>"},{"location":"tech_backend/developper/#demarrage-du-service-en-mode-dev","title":"D\u00e9marrage du service en mode dev","text":""},{"location":"tech_backend/developper/#via-java","title":"Via JAVA","text":"<p>Ex\u00e9cuter cette commande dans un terminal :</p> <p><code>java -jar target/docsmanager-1.0.0-SNAPSHOT.jar</code></p>"},{"location":"tech_backend/developper/#via-vscode","title":"Via VSCode","text":"<p>Consultez en premier les documentations associ\u00e9es de l'\u00e9diteur :</p> <ul> <li> <p>Tutoriel</p> </li> <li> <p>https://code.visualstudio.com/docs/java/java-debugging</p> </li> </ul> <p>R\u00e9alisez ensuite ces \u00e9tapes :</p> <ol> <li>Ouvrir dans VSCode le r\u00e9pertoire contenant le backend</li> <li>Installer les modules <code>Extension Pack for Java</code></li> <li>Ajouter dans docs-manager-back/.vscode le fichier de configuration suivant :</li> </ol> <pre><code>{\n    \"version\": \"0.2.0\",\n    \"configurations\": [\n        {\n            \"type\": \"java\",\n            \"name\": \"Current File\",\n            \"request\": \"launch\",\n            \"mainClass\": \"${file}\"\n        },\n        {\n            \"type\": \"java\",\n            \"name\": \"Application\",\n            \"request\": \"launch\",\n            \"mainClass\": \"com.frontbackend.springboot.Application\",\n            \"projectName\": \"upload-file-to-postgresql\"\n        }\n    ]\n}\n</code></pre> <p>Vous pouvez \u00e0 pr\u00e9sent d\u00e9marrer le service en mode d\u00e9veloppement (\u00e0 condition d'avoir builder le <code>.jar</code> auparavant).</p>"},{"location":"tech_backend/installer/","title":"Installation","text":"<p>L'installation est d\u00e9crite dans le README du backend : </p> <p>Acc\u00e9der au README</p> <p>Vous pouvez suivre ces instructions pour l'installation du backend.</p>"},{"location":"tech_doc/","title":"Documentation","text":"<p>Cette documentation a \u00e9t\u00e9 r\u00e9alis\u00e9e avec le template georchestra_documentation :</p> <p>https://github.com/georchestra/georchestra_documentation</p>"},{"location":"tech_doc/#contribuer","title":"Contribuer","text":"<p>Pour contribuer, vous devez faire une pull request dans le d\u00e9p\u00f4t du projet :</p> <p>https://github.com/jdev-org/docs-manager-front/tree/251f3416fa34da57fa11439565c196478c0d2eef</p>"},{"location":"tech_doc/#modifier-la-documentation","title":"Modifier la documentation","text":"<p>La documentation est localis\u00e9e dans le r\u00e9pertoires /docs.</p> <p>Vous devez cloner et installer le template georchestra_documentation </p> <p>https://github.com/georchestra/georchestra_documentation/blob/master/installer.md</p> <p>Puis, vous devez remplacer : </p> <ul> <li> <p>le contenu du r\u00e9pertoire /docs du template par le r\u00e9pertoire /docs du projet docs-manager-front</p> </li> <li> <p>le fichier mkdocs.yml du template par le fichier du projet docs-manager-front</p> </li> </ul> <p>Suivez ensuite les instructions du template pour tester et builder la documentation.</p>"},{"location":"tech_doc/#push-et-publication-de-la-documentation","title":"Push et publication de la documentation","text":"<p>La documentation est publi\u00e9e avec une github page comme d\u00e9crit ici :</p> <p>https://github.com/georchestra/georchestra_documentation/issues/12</p>"},{"location":"tech_doc/update/","title":"Mise \u00e0 jour de la documentation","text":""},{"location":"tech_doc/update/#source-de-la-mise-a-jour","title":"Source de la mise \u00e0 jour","text":"<p>La documentation peut \u00eatre mise \u00e0 jour face au d\u00e9p\u00f4t parent suivant \u00e0 r\u00e9cup\u00e9rer : </p> <ul> <li>https://github.com/georchestra/georchestra_documentation</li> </ul>"},{"location":"tech_doc/update/#mettre-a-jour-la-documentation","title":"Mettre \u00e0 jour la documentation","text":"<ol> <li>Faire un clone du d\u00e9p\u00f4t georchestra_documentation</li> <li>Remplacer l'ensemble du r\u00e9pertoire /docs par le r\u00e9pertoire du projet docs-manager</li> <li>copier l'ensemble du r\u00e9pertoire georchestra_documentation (sans les fichiers .git)</li> <li>Rmplacer le r\u00e9pertoire /docs-manager/docs par le r\u00e9pertoire copi\u00e9 \u00e0 l'\u00e9tape pr\u00e9c\u00e9dente</li> <li>Pousser les modifications sur le d\u00e9p\u00f4t</li> </ol>"},{"location":"tech_module/","title":"Guide technique","text":""},{"location":"tech_module/#generalite","title":"G\u00e9n\u00e9ralit\u00e9","text":"<p>Cette section vous permettra d'obtenir les informations suffisantes pour installer, d\u00e9ployer, administrer et faire \u00e9voluer le backend disponible ici (utiliser la branche develop uniquement) :</p> <p>Code source : develop</p>"},{"location":"tech_module/#mapstoreextension","title":"MapStoreExtension","text":"<p>L'extension docs-manager est un module personnalis\u00e9 MapStore2.</p> <p>Cette extension a \u00e9t\u00e9 r\u00e9alis\u00e9e \u00e0 partir du template MapStoreExtension disponible ici :</p> <p>Template : MapStoreExtension</p>"},{"location":"tech_module/config/","title":"Configuration","text":"<p>Cette section permettra de comprendre comment configurer le plugin MapStore : docs-manager.</p>"},{"location":"tech_module/config/#ajouter-ou-modifier-la-configuration","title":"Ajouter ou modifier la configuration","text":"<p>Dans le menu d'activation des extensions, vous devez identifier dans la colonne de droite le plugin DocsManager.</p> <p>Cliquer ensuite sur le bouton \"Modifier la configuration du plugin\" pour acc\u00e9der \u00e0 l'interface de saisie des param\u00e8tres : </p> <p></p>"},{"location":"tech_module/config/#example-de-configuration","title":"Example de configuration","text":"<p>Avant d'expliquer les param\u00e8tres, vous trouverez un exemple complet ici : </p> <pre><code>{\n  \"cfg\": {\n    \"icon\": \"1-line\",\n    \"id\": \"carteaux\",\n    \"editingAllowedRoles\": \"SV_PWRS_CARTEAUX_CVI\",\n    \"api\": \"https://gis.jdev.fr/docs/\",\n    \"statusValues\": {\n      \"values\": [\n        \"public\",\n        \"private\"\n      ]\n    },\n    \"fields\": [\n      \"label\",\n      \"\",\n      \"comment\",\n      \"status\",\n      \"dateDoc\"\n    ],\n    \"requiredFields\": [\n      \"label\"\n    ],\n    \"entity\": {\n      \"plugin\": \"d2t\",\n      \"propCfg\": \"feature\",\n      \"attribute\": \"id\"\n    }\n  },\n  \"override\": {}\n}\n</code></pre>"},{"location":"tech_module/config/#parametres","title":"Param\u00e8tres","text":"<ul> <li>icon : ic\u00f4ne visible dans mapstore pour le bout d'activation du module</li> <li>id : code (ou identifiant) \u00e0 utiliser pour regrouper les documents par contexte (ou par application)</li> <li>editingAllowedRoles : r\u00f4le geOrchestra qui peut \u00e9crire (selon la configuration backend) en plus des administrateurs</li> <li>api : chemin vers le backend</li> <li>statusValues.values : liste de valeurs permettant d'ajouter un statut \u00e0 un document (liste libre non relationnelle)</li> <li>fields : champs saisissable \u00e0 l'ajout d'un document. Ces champs seront \u00e9galement visibles pour chaque documents. Les valeurs possibles de la liste sont sont : <code>label | comment | status | dateDoc</code>.</li> <li>requiredFields : champs obligatoires parmis la liste pr\u00e9c\u00e9dente.</li> <li>entity : Objet permettant de configurer le lien entre une entit\u00e9 s\u00e9lectionn\u00e9e et un document.</li> <li>entity.plugin : permet de rechercher dans le state d'un plugin selon son identifiant mapstore.</li> <li>entity.propCfg : Propri\u00e9t\u00e9 du plugin contenant les propri\u00e9t\u00e9s de l'objet s\u00e9lectionn\u00e9.</li> <li>entity.attribute : Champ contenant l'attribut \u00e0 utiliser dans les propri\u00e9t\u00e9s de l'objet s\u00e9lectionn\u00e9.</li> </ul>"},{"location":"tech_module/developper/","title":"D\u00e9velopper","text":"<p>Cette section partage les informations pour d\u00e9velopper le module MapStore2.</p>"},{"location":"tech_module/developper/#prerequis","title":"Pr\u00e9requis","text":"<ul> <li>Vous devez installer Node v12.x (ou v14.x) et NPM associ\u00e9 \u00e0 cette version. Nous conseillons d'utiliser NVM.</li> <li>Vous devez disposer du sous module MapStore 2023.01.x dans le template MapStoreExtension</li> </ul>"},{"location":"tech_module/developper/#comment-proceder","title":"Comment proc\u00e9der ?","text":"<p>Pour d\u00e9velopper, dirigez-vous vers le d\u00e9p\u00f4t GitHub du template MapStore2 afin d'obtenir les informations n\u00e9cessaires : </p> <p>Lien vers le d\u00e9p\u00f4t</p>"},{"location":"tech_module/developper/#commandes","title":"Commandes","text":"<p>Pour installer l'extension : </p> <pre><code>nvm use 12\ngit clone --recursive https://github.com/jdev-org/docs-manager-front.git\ncd docs-manager-front\ngit submodule update --init\nnpm install\n</code></pre> <p>Pour d\u00e9marrer le serveur local :</p> <pre><code>npm run fe:start\n</code></pre>"},{"location":"tech_module/developper/api/","title":"Documentation de l'API","text":"<ul> <li>donner les URL vers les API</li> <li>d\u00e9crire les m\u00e9thodes des API (sauf si swagger int\u00e9gr\u00e9 -&gt; url vers le swagger)</li> </ul>"},{"location":"tech_module/developper/matrice_fonctionnalites/","title":"Matrice des fonctionnalit\u00e9s","text":"<p>D\u00e9crire ici la liste des fonctionnalit\u00e9s, sous la forme de tableau si possible ?</p>"},{"location":"tech_module/installer/","title":"Installation","text":"<p>Cette section vous permettra d'installer le module MapStore2 : docs-manager.</p>"},{"location":"tech_module/installer/#prerequis","title":"Pr\u00e9requis","text":"<ul> <li>Vous devez disposer du fichier format .ZIP du plugin permettant de l'importer dans MapStore.</li> <li>Vous devez disposer des droits d'\u00e9dition d'un contexte pour y ajouter un module suppl\u00e9mentaire ou modifier les modules \u00e0 utiliser dans le context \u00e0 \u00e9diter</li> </ul>"},{"location":"tech_module/installer/#recuperer-le-fichier","title":"R\u00e9cup\u00e9rer le fichier","text":"<p>Le fichier (.zip) est disponible dans GitHub :</p> <ul> <li>Dans les releases (par version)</li> <li>dans les actions GitHub</li> </ul>"},{"location":"tech_module/installer/#ajouter-le-module-dans-mapstore2","title":"Ajouter le module dans MapStore2","text":"<p>Lorsque vous \u00eates en mode \u00e9dition dans un contexte, vous devez cliquer sur \"Ajouter une extension\" :</p> <p></p> <p>Importer ou faire glisser ensuite le ZIP :</p> <p></p> <p>Cliquer ensuite sur \"Installer\".</p> <p>Le plugin est maintenant disponible dans la colonne de gauche. Aidez-vous des fl\u00eaches pour ajouter activer un plugin en le rajouter dans la colonne de droite.</p> <p>Votre plugin et maintenant install\u00e9 et activ\u00e9. Il vous restera \u00e0 le configurer.</p>"},{"location":"tech_module/installer/une_page/","title":"Une page","text":"<p>Une page de la partie \"Administrer\"</p>"}]}